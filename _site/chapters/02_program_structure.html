<!doctype html>
<head>
  <meta charset="utf-8">
  <title>Estructura del Programa :: Eloquent JavaScript</title>
  <link rel=stylesheet href="js/node_modules/codemirror/lib/codemirror.css">
  <script src="js/acorn_codemirror.js"></script>
  <link rel=stylesheet href="css/ejs.css">
  <script src="js/sandbox.js"></script>
  <script src="js/ejs.js"></script>
  <script>var chapNum = 2;</script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53624335-3', 'auto');
  ga('send', 'pageview');

  </script>
</head>

<article>
<nav>
  <a href="01_values.html" title="capítulo previo">◀</a>
  <a href="index.html" title="cover">◆</a>
  <a href="03_functions.html" title="capítulo siguiente">▶</a>
</nav>

<h1><div class=chap_num>Capítulo 2</div>Estructura del Programa</h1>
<blockquote>
<p><a class=p_ident id="p_NN4OA9Jguf" href="#p_NN4OA9Jguf"></a>Y mi corazón brilla rojo debajo de mi
delgada, translúcida piel y tienen que administrarme 10cc de JavaScript
para hacerme regresar (respondo bien a las toxinas en la sangre). ¡Hombre,
esa cosa te sacará de tus casillas!</p>
 <footer>_why, <cite>Why's (Poignant) Guide to Ruby</cite></footer>
</blockquote>
<p><a class=p_ident id="p_mI3eElMLTP" href="#p_mI3eElMLTP"></a>En este capítulo, vamos a empezar a hacer
cosas que realmente pueden ser llamadas <em>programación</em>. Vamos a ampliar
nuestro conocimiento del lenguaje JavaScript, más allá de los sustantivos
y fragmentos de oraciones que hemos visto hasta ahora,
hasta el punto en que podamos expresar alguna prosa significativa.</p>
<h2><a class=h_ident id="h_oqfl+ptPGG" href="#h_oqfl+ptPGG"></a>Expresiones y declaraciones</h2>
<p><a class=p_ident id="p_j9hyJXcePk" href="#p_j9hyJXcePk"></a>En el
<a href="01_values.html#values">Capítulo 1</a>, creamos algunos valores y después
les aplicamos operadores para obtener nuevos valores. Crear valores de esta forma
es una parte esencial de cada programa de JavaScript, pero esto es sólo
una parte.</p>
<p><a class=p_ident id="p_ziZtbSBWhm" href="#p_ziZtbSBWhm"></a>Un fragmento de código que produce un valor es
llamado una <em>expresión</em>. Cada valor que se escribe literalmente
(tal como <code>22</code> o <code>"psicoanálisis"</code>) es una expresión. Una expresión
entre paréntesis es también una expresión, como un operador binario aplicado a dos expresiones o un operador unario aplicado a
una expresion.</p>
<p><a class=p_ident id="p_UqOwwtmeFY" href="#p_UqOwwtmeFY"></a>Esto muestra parte de la
belleza de una interfaz basada en el lenguaje. Las expresiones se pueden anidar
en una forma muy similar a la forma de sub-frases en la que las lenguas humanas
son anidadas, y las sub-frases pueden contener sus propias sub-frases, etc.
Esto nos permite combinar expresiones para expresar cálculos
arbitrariamente complejos.</p>
<p><a class=p_ident id="p_ZVBoR+/oNP" href="#p_ZVBoR+/oNP"></a>Si una expresión
corresponde a un fragmento de frase, una <em>declaración</em> en JavaScript
corresponde a una frase completa en un lenguaje humano. Un programa es
simplemente una lista de declaraciones.</p>
<p><a class=p_ident id="p_VEI0X64AX2" href="#p_VEI0X64AX2"></a>El tipo más simple de declaración es una expresión con un
punto y coma después de ella. Esto es un programa:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_ShAmL4Xddd" href="#c_ShAmL4Xddd"></a><span class="cm-number">1</span>;
<span class="cm-operator">!</span><span class="cm-atom">false</span>;</pre>
<p><a class=p_ident id="p_D/yct/SFUy" href="#p_D/yct/SFUy"></a>Sin embargo, es un programa inútil. Una expresión puede estar presente para
sólo producir un valor, que puede entonces ser utilizado por la expresión que
la contiene. Una declaración existe por sí sola y que equivale a algo
sólo si afecta al mundo. Podría mostrar algo en la
pantalla -que cuenta como cambiar el mundo_ o podría cambiar el
estado interno de la máquina de estados de manera que afectará las
declaraciones que vienen despues de ella. Estos cambios se
llaman <em>efectos colaterales</em>. Las declaraciones en el ejemplo anterior solo
producen los valores <code>1</code> y <code>verdadero</code> y los desechan inmediatamente.
Esto no deja ningún cambio en el mundo en absoluto. Al ejecutar el programa,
nada observable sucede.</p>
<p><a class=p_ident id="p_cfI3s2SImw" href="#p_cfI3s2SImw"></a>En algunos casos, JavaScript te permite
omitir el punto y coma al final de una declaración. En otros casos, tiene que
estar allí, o la siguiente linea será tratada como parte de la misma
declaración. Las reglas para cuando se puede omitir con seguridad son algo
complejas y propensas a errores. En este libro, cada declaración que necesite un
punto y coma siempre será terminada por un punto y coma4. Te recomiendo que hagas lo
mismo en tus propios programas, al menos hasta que hayas aprendido más sobre
sutilezas involucradas en omitir el punto y coma.</p>
<h2><a class=h_ident id="h_rAGNsfewCX" href="#h_rAGNsfewCX"></a>Variables</h2>
<p><a class=p_ident id="p_V27Ka42Lvw" href="#p_V27Ka42Lvw"></a> ¿Cómo
mantiene un programa su estado interno? ¿Cómo recuerda algo?
Hemos visto cómo producir nuevos valores de viejos valores, pero
esto no cambia los valores antiguos, y el nuevo valor tiene que ser
inmediatamente utilizado o se disipará de nuevo. Para atrapar y mantener los valores,
JavaScript proporciona una cosa llamada <em>variable</em>.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_NkjyvO4fF/" href="#c_NkjyvO4fF/"></a><span class="cm-keyword">var</span> <span class="cm-variable">atrapado</span> <span class="cm-operator">=</span> <span class="cm-number">5</span> <span class="cm-operator">*</span> <span class="cm-number">5</span>;</pre>
<p><a class=p_ident id="p_ZzDmGqjQiH" href="#p_ZzDmGqjQiH"></a>Y eso nos da nuestra segunda clase de declaración.
La palabra especial(<em>palabra clave</em> o <em>keyword</em>) <code>var</code> indica que
esta frase va a definir una variable. Es seguida por el nombre de la variable
y, si queremos dar de inmediato un valor, con un operador de <code>=</code> y
una expresión.</p>
<p><a class=p_ident id="p_xQ9bkoRqPa" href="#p_xQ9bkoRqPa"></a>La declaración anterior crea una variable llamada <code>atrapado</code> y se usa
para retener el número que se produce al multiplicar 5 por 5.</p>
<p><a class=p_ident id="p_PhpIn27svc" href="#p_PhpIn27svc"></a>Después de que una variable se ha definido, su nombre puede ser usado como una
expresión. El valor de esa expresión es el valor que la
variable alberga actualmente. He aquí un ejemplo:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_pZisXl4Eyt" href="#c_pZisXl4Eyt"></a><span class="cm-keyword">var</span> <span class="cm-variable">diez</span> <span class="cm-operator">=</span> <span class="cm-number">10</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">diez</span> <span class="cm-operator">*</span> <span class="cm-variable">diez</span>);
<span class="cm-comment">// → 100</span></pre>
<p><a class=p_ident id="p_4yQS2CNr3V" href="#p_4yQS2CNr3V"></a>Los nombres de variables pueden ser cualquier
palabra que no sea una palabra clave (tal como <code>var</code>). Estos no pueden incluir
espacios. Los dígitos también pueden ser parte de la variable nombre —<code>catch22</code>
es un nombre válido, por ejemplo-, pero el nombre no debe comenzar con un dígito.
Un nombre de variable no puede incluir puntuación, a excepción de los caracteres
<code>$</code> y <code>_</code>.</p>
<p><a class=p_ident id="p_g3gUrfJvu0" href="#p_g3gUrfJvu0"></a>(((variable,asiganción))Cuando una
variable apunta a un valor, eso no quiere decir que está ligada a ese
valor para siempre. El operador <code>=</code> se puede utilizar en cualquier momento
en variables existentes para desconectarlas de su valor actual y apuntarlas
a uno nuevo.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_Pp9sggjtRz" href="#c_Pp9sggjtRz"></a><span class="cm-keyword">var</span> <span class="cm-variable">tono</span> <span class="cm-operator">=</span> <span class="cm-string">"claro"</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">tono</span>);
<span class="cm-comment">// → claro</span>
<span class="cm-variable">tono</span> <span class="cm-operator">=</span> <span class="cm-string">"oscuro"</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">tono</span>);
<span class="cm-comment">// → oscuro</span></pre>
<p><a class=p_ident id="p_tiDzDIV7T/" href="#p_tiDzDIV7T/"></a> Podrías
imaginar  las variables como tentáculos, en lugar de la cajas. Estas no
<em>contienen</em> valores; los <em>agarran</em>; dos variables pueden referirse al
mismo valor. Un programa puede acceder sólo los valores que todavía mantiene detenidos.
Cuando necesitas recordar algo, haces crecer un tentáculo para
agarrarlo o cambias unos de tus tentáculos existentes para agarrarlo.</p>
<div class="image">
  <img src="img/octopus.jpg" alt="Variables as tentacles">
</div>
<p><a class=p_ident id="p_yt1JaUclMh" href="#p_yt1JaUclMh"></a>Veamos un ejemplo. Para recordar el número de dólares que Luigi
aún te debe, se crea una variable. Y luego, cuando te paga $35,
le das a esta variable un valor nuevo.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_dt8LZjYUxh" href="#c_dt8LZjYUxh"></a><span class="cm-keyword">var</span> <span class="cm-variable">deudaDeLuigi</span> <span class="cm-operator">=</span> <span class="cm-number">140</span>;
<span class="cm-variable">deudaDeLuigi</span> <span class="cm-operator">=</span> <span class="cm-variable">deudaDeLuigi</span> <span class="cm-operator">-</span> <span class="cm-number">35</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">deudaDeLuigi</span>);
<span class="cm-comment">// → 105</span></pre>
<p><a class=p_ident id="p_I1i2FVbPrc" href="#p_I1i2FVbPrc"></a>Cuando se define una variable sin darle un valor,
el tentáculo no tiene nada que sostener, por lo que termina en el aire. Si preguntas
por el valor de una variable vacía, obtendrás el valor <code>undefined</code> (indefinido).</p>
<p><a class=p_ident id="p_DLfCJkR9mx" href="#p_DLfCJkR9mx"></a>Una sola declaración <code>var</code> puede definir múltiples
variables. Las definiciones deben estar separadas por comas.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_fsbtgcpn0J" href="#c_fsbtgcpn0J"></a><span class="cm-keyword">var</span> <span class="cm-variable">uno</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>, <span class="cm-variable">dos</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">uno</span> <span class="cm-operator">+</span> <span class="cm-variable">dos</span>);
<span class="cm-comment">// → 3</span></pre>
<h2><a class=h_ident id="h_8NNBb9ucwT" href="#h_8NNBb9ucwT"></a>Palabras clave y palabras reservadas</h2>
<p><a class=p_ident id="p_jVZGDp93c2" href="#p_jVZGDp93c2"></a>Palabras con
un significado especial, como <code>var</code>, son <em>palabras clave</em>, y no pueden ser
utilizadas como nombres de variables. También hay un número de palabras que son
“reservadas para uso” en futuras versiones de JavaScript. Estas también
están oficialmente no permitidas como nombres de variables, aunque algunos
entornos de JavaScript las permiten. La lista completa de palabras clave y
palabras reservadas es bastante larga.</p>
<pre data-language="text/plain" class="snippet cm-s-default"><a class=c_ident id="c_DsAGZZBb8k" href="#c_DsAGZZBb8k"></a>break case catch class const continue debugger
default delete do else enum export extends false
finally for function if implements import in
instanceof interface let new null package private
protected public return static super switch this
throw true try typeof var void while with yield</pre>
<p><a class=p_ident id="p_ZOf5+ujD1t" href="#p_ZOf5+ujD1t"></a>No te preocupes por memorizarlas, pero recuerda que esto podría ser
el problema cuando una definición de variable no funcione como se esperaba.</p>
<h2><a class=h_ident id="h_QDYVZFuV/L" href="#h_QDYVZFuV/L"></a>El entorno</h2>
<p><a class=p_ident id="p_zaY8cQQE1v" href="#p_zaY8cQQE1v"></a>La colección de variables y sus valores
que existe en un momento dado se llama el <em>entorno</em>. Cuando un
programa se pone en marcha, este entorno no está vacío. Siempre contiene
variables que forman parte del lenguaje estándar, y la mayoría del
tiempo, contiene variables que proporcionan formas de interactuar con el
sistema que lo contiene. Por ejemplo, en un navegador, existen variables
y funciones para inspeccionar e influir en la página web cargada en ese momento
y leer entrada del ratón y del teclado.</p>
<h2><a class=h_ident id="h_H0l5He7QIh" href="#h_H0l5He7QIh"></a>Funciones</h2>
<p><a class=p_ident id="p_1dtnt00r9v" href="#p_1dtnt00r9v"></a>Una gran cantidad de los valores proporcionados en el
entorno por defecto tienen el tipo <em>function</em>. Una función(function) es un
pedazo de programa encerrado en un valor. Tales valores pueden ser <em>aplicados</em> con
el fin de ejecutar el programa envuelto. Por ejemplo, en un entorno de
navegador, la variable <code>alert</code> contiene una función que muestra un pequeño
cuadro de diálogo con un mensaje. Se utiliza como sigue:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_/nzMfinI1s" href="#c_/nzMfinI1s"></a><span class="cm-variable">alert</span>(<span class="cm-string">"¡Good Morning!"</span>);</pre>
<div class="image">
  <img src="img/alert.png" alt="An alert dialog">
</div>
<p><a class=p_ident id="p_8srvvDUNAW" href="#p_8srvvDUNAW"></a>La ejecución de una función es denominada
<em>invocar</em>, <em>llamar</em>, o <em>aplicar</em> la función. Puedes llamar a una
función poniendo paréntesis después de una expresión que produce un
valor de la función. Por lo general, se usa directamente el nombre de la variable
que contiene la función. Los valores entre paréntesis se le pasan a
el programa dentro de la función. En el ejemplo, la función <code>alert</code>
utiliza la cadena que le damos como el texto que se mostrará en el cuadro de diálogo.
Los valores dados a las funciones se denominan <em>argumentos</em>. La función <code>alert</code>
necesita solo uno, pero otras funciones pueden necesitar un
número diferente o diferentes tipos de argumentos.</p>
<h2><a class=h_ident id="h_Q017V5uet0" href="#h_Q017V5uet0"></a>La función console.log</h2>
<p><a class=p_ident id="p_5J4TqoCRXg" href="#p_5J4TqoCRXg"></a>La función <code>alert</code>
puede ser útil para imprimir cuando estamos experimentando, pero quitar del camino
todas esas pequeñas ventanas puede desesperarte. En ejemplos pasados, hemos usado
<code>console.log</code> para devolver valores. La mayoría sistemas JavaScript (incluyendo a
todos los navegadores web modernos y a Node.js) nos dan una función <code>console.log</code>
que imprime sus argumentos en <em>algún</em> dispositivo de salida de texto. En los navegadores
la salida queda en la consola de JavaScript. Esta parte del navegador está
escondida por defecto, pero la mayoría de los navegadores la abren cuando presionas
F12 o, en Mac, cuando presionas Command-Option-I. Si esto no funciona, busca en los
menús un item llamado "Consola Web" o "Herramientas de Desarrollador".</p>
<p><a class=p_ident id="p_zfqBfWEVr3" href="#p_zfqBfWEVr3"></a>Cuando corras los ejemplos, o tu propio código, en las páginas de este libro,
la salida de <code>console.log</code> será mostrada después del ejemplo, en vez de en la
consola de JavaScript del navegador.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_slrPBKZb3N" href="#c_slrPBKZb3N"></a><span class="cm-keyword">var</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">30</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"el valor de x es"</span>, <span class="cm-variable">x</span>);
<span class="cm-comment">// → el valor de x es 30</span></pre>
<p><a class=p_ident id="p_JPyb64dLzL" href="#p_JPyb64dLzL"></a>Aunque los nombres de variable no pueden contener
el caracter punto, <code>console.log</code> claramente tiene uno. Esto es
porque <code>console.log</code> no es una variable simple. Es en realidad una
expresión que trae la propiedad <code>log</code> del valor mantenido por la
variable <code>console</code>. Veremos que significa exactamente en el
<a href="04_data.html#properties">Capítulo 4</a>.</p>
<h2 id="return_values"><a class=h_ident id="h_owYIQivxLz" href="#h_owYIQivxLz"></a>Valores de Retorno</h2>
<p><a class=p_ident id="p_hNq0d3p4gu" href="#p_hNq0d3p4gu"></a>Mostrar un cuadro de diálogo o escribir texto
en la pantalla es un <em>efecto secundario</em>. Muchas funciones son útiles porque
producen valores, y en ese caso, no necesitan tener un efecto secundario para
ser útiles. Por ejemplo, la función <code>Math.max</code> toma un número indeterminado de
números y regresa el más grande.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_B7v4h49+r4" href="#c_B7v4h49+r4"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-number">2</span>, <span class="cm-number">4</span>));
<span class="cm-comment">// → 4</span></pre>
<p><a class=p_ident id="p_HBpAith662" href="#p_HBpAith662"></a> Cuando una función produce un valor, se dice que <em>regresa</em>
ese valor. Cualquier cosa que produce un valor es una expresión en
JavaScript, lo que significa que puede ser usada dentro de expresiones
más grandes. Aquí, una llamada a <code>Math.min</code>, que es lo opuesto a
<code>Math.max</code>, es usada como entrada de un operador de suma:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_XILWvn5oO1" href="#c_XILWvn5oO1"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">Math</span>.<span class="cm-property">min</span>(<span class="cm-number">2</span>, <span class="cm-number">4</span>) <span class="cm-operator">+</span> <span class="cm-number">100</span>);
<span class="cm-comment">// → 102</span></pre>
<p><a class=p_ident id="p_Zwu1c7cEBS" href="#p_Zwu1c7cEBS"></a>El <a href="03_functions.html#functions">próximo capítulo</a> explica como escribir
tus propias funciones.</p>
<h2><a class=h_ident id="h_Yh+rjRpcob" href="#h_Yh+rjRpcob"></a>Pedir información y confirmar</h2>
<p><a class=p_ident id="p_Zl67VHke5C" href="#p_Zl67VHke5C"></a>Los
entornos de navegador tienen otras funciones más allá de <code>alert</code> para mostrar
ventanas. Puedes preguntar al usuario una cuestión estilo OK/Cancelar usando
<code>confirm</code>. Esto regresa un Booleano: <code>true</code> si el usuario hace click en OK y
<code>false</code> si el usuario presiona en Cancelar.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_M5llxL4ml5" href="#c_M5llxL4ml5"></a><span class="cm-variable">confirm</span>(<span class="cm-string">"¿Entonces, deberíamos?"</span>);</pre>
<div class="image">
  <img src="img/confirm.png" alt="A confirm dialog">
</div>
<p><a class=p_ident id="p_jJ5ZIwOfZY" href="#p_jJ5ZIwOfZY"></a>La función <code>prompt</code>
puede ser usada para hacer una pregunta "abierta". El primer argumento
es la pregunta, el segundo es un texto con el que usuario inicia. Se puede
escribir una línea de texto en el cuadro de diálogo, y la función regresará
este texto como una cadena.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_zvjwz8HPIq" href="#c_zvjwz8HPIq"></a><span class="cm-variable">prompt</span>(<span class="cm-string">"Tell me everything you know."</span>, <span class="cm-string">"..."</span>);</pre>
<div class="image">
  <img src="img/prompt.png" alt="An prompt dialog">
</div>
<p><a class=p_ident id="p_K844FdTf7Z" href="#p_K844FdTf7Z"></a>Estas dos funciones no son usadas mucho en la programación web moderna,
principalmente porque no tienes control sobre la forma en que las ventanas
resultantes se verán, pero son útiles para programas de prueba y experimentos.</p>
<h2><a class=h_ident id="h_T9Yc/t6Db4" href="#h_T9Yc/t6Db4"></a>Control de flujo</h2>
<p><a class=p_ident id="p_9EgKeHK0je" href="#p_9EgKeHK0je"></a>Cuando tu
programa contiene más de una sentencia, las sentencias son ejecutadas (fácil de predecir), de arriba hacia abajo. Como un ejemplo básico, este programa
tiene dos sentencias. La primera le pide un número al usuario, y la
segunda, que se ejecuta después, muestra el cuadrado de ese número</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_0LCqm9v/u9" href="#c_0LCqm9v/u9"></a><span class="cm-keyword">var</span> <span class="cm-variable">elNumero</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">"Dame un número"</span>, <span class="cm-string">""</span>));
<span class="cm-variable">alert</span>(<span class="cm-string">"Tú número es la raíz cuadrada de "</span> <span class="cm-operator">+</span>
      <span class="cm-variable">elNumero</span> <span class="cm-operator">*</span> <span class="cm-variable">elNumero</span>);</pre>
<p><a class=p_ident id="p_l4G/QiN3y8" href="#p_l4G/QiN3y8"></a> La función <code>Numero</code> convierte un valor a un número.
Necesitamos esa conversión porque el resultado de <code>prompt</code> es un valor
de cadena de texto (string), y queremos un número. Hay funciones similares
llamadas <code>String</code> y <code>Boolean</code> que convierten valores a estos tipos.</p>
<p><a class=p_ident id="p_g2yS4kBkxO" href="#p_g2yS4kBkxO"></a>Aquí está la trivial representación esquemática de un flojo de control recto.</p>
<div class="image">
  <img src="img/controlflow-straight.svg" alt="Trivial control flow">
</div>
<h2><a class=h_ident id="h_3aL9qDHtVo" href="#h_3aL9qDHtVo"></a>Ejecución Condicional</h2>
<p><a class=p_ident id="p_KductHnSO/" href="#p_KductHnSO/"></a>Ejecutar sentencia en línea recta no es
la íunica opción que tenemos. Una alternativa es la <em>ejecución condicional</em>,
en dondne escogemos entre dos rutas diferentes basados en un valor Booleano,
como el siguiente:</p>
<div class="image">
  <img src="img/controlflow-if.svg" alt="Conditional control flow">
</div>
<p><a class=p_ident id="p_fZc5KedAGN" href="#p_fZc5KedAGN"></a>La ejecución condicional
se escribe con la palabra clave <code>if</code> en JavaScript. En el caso sencillo,
queremos que algo de código se ejecute si, y sólo si, cierta condición se cumple.
Por ejemplo, en el programa previo, podríamos querer mostrar el cuadrado de
la entrada sólo si la entrada es un número.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_hDFzyosYoa" href="#c_hDFzyosYoa"></a><span class="cm-keyword">var</span> <span class="cm-variable">elNumero</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">"Dame un número"</span>, <span class="cm-string">""</span>));
<span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">isNaN</span>(<span class="cm-variable">elNumero</span>))
  <span class="cm-variable">alert</span>(<span class="cm-string">"Tu número es la raíz cuadrada de "</span> <span class="cm-operator">+</span>
        <span class="cm-variable">elNumero</span> <span class="cm-operator">*</span> <span class="cm-variable">elNumero</span>);</pre>
<p><a class=p_ident id="p_wm40Jh5aS8" href="#p_wm40Jh5aS8"></a>Con esta modificación, si le das "queso", no se mostrará ninguna salida.</p>
<p><a class=p_ident id="p_qmGSztfyJW" href="#p_qmGSztfyJW"></a>La palabra clave <code>if</code> ejecuta o salta una sentencia dependiendo del valor
de una expresión Booleana. La expresión de decisión se escribe después de
la palabra clave, entre parántesis, seguida por una sentencia a ejecutar.</p>
<p><a class=p_ident id="p_y/wb7CS1CP" href="#p_y/wb7CS1CP"></a>La función <code>isNaN</code> es una función estándar de JavaScript
que regresa <code>true</code> sólo si el argumento que le diste es <code>NaN</code>. Resulta que
la función Number regresa <code>NaN</code> cuando le das una cadena que no
“a menos que  <code>elNumero</code> no sea un número, has esto”.</p>
<p><a class=p_ident id="p_314DXtvLuA" href="#p_314DXtvLuA"></a>A menudo no sólo tendrás código que se ejecute cuando
una condición sea verdadera, sino también que maneje el otro caso. Este camino
alternativo es representado por la segunda flecha en el diagrama. La palabra
clave <code>else</code> puede ser usada, junto con <code>if</code>, para crear dos rutas de ejecución
separadas y alternativas.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_5o7bnr7KNU" href="#c_5o7bnr7KNU"></a><span class="cm-keyword">var</span> <span class="cm-variable">elNumero</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">"Dame un número"</span>, <span class="cm-string">""</span>));
<span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">isNaN</span>(<span class="cm-variable">elNumero</span>))
  <span class="cm-variable">alert</span>(<span class="cm-string">"Tu número es la raíz cuadrada de "</span> <span class="cm-operator">+</span>
        <span class="cm-variable">elNumero</span> <span class="cm-operator">*</span> <span class="cm-variable">elNumero</span>);
<span class="cm-keyword">else</span>
  <span class="cm-variable">alert</span>(<span class="cm-string">"Hey. ¿Por qué no me diste un número?"</span>);</pre>
<p><a class=p_ident id="p_k8pO5L03X0" href="#p_k8pO5L03X0"></a>Si tenemos más de dos caminos a escoger,
varios pares de <code>if</code>/<code>else</code> pueden ser "encadenados". Aquí hay un ejemplo:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_3NX5mBExMU" href="#c_3NX5mBExMU"></a><span class="cm-keyword">var</span> <span class="cm-variable">num</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">"Dame un número"</span>, <span class="cm-string">"0"</span>));

<span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>)
  <span class="cm-variable">alert</span>(<span class="cm-string">"Chico"</span>);
<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">&lt;</span> <span class="cm-number">100</span>)
  <span class="cm-variable">alert</span>(<span class="cm-string">"Mediano"</span>);
<span class="cm-keyword">else</span>
  <span class="cm-variable">alert</span>(<span class="cm-string">"Grande"</span>);</pre>
<p><a class=p_ident id="p_bfciP0sfN8" href="#p_bfciP0sfN8"></a>El programa primero checará sí <code>num</code> es menor que 10. Si lo es, escoge
ese camino, muestra <code>"Chico"</code> y termina. Si no lo es, toma el el branch
<code>else</code>, que en sí mismo contiene un segundo <code>if</code>. Si la segunda condición
(<code>&lt; 100</code>) se cumple, significa que el número está entre 10 y 100, y se
muestra <code>"Mediano"</code>. Si no lo es, el segundo y último <code>else</code> es escogido.</p>
<p><a class=p_ident id="p_AfmgemcNIW" href="#p_AfmgemcNIW"></a>El diagrama de flujo para este programa es algo así:</p>
<div class="image">
  <img src="img/controlflow-nested-if.svg" alt="Nested if control flow">
</div>
<h2 id="bucles"><a class=h_ident id="h_GOwIDimzEs" href="#h_GOwIDimzEs"></a>bucles while y do</h2>
<p><a class=p_ident id="p_bhDRKPBblX" href="#p_bhDRKPBblX"></a>Piensa en un programa que imprima todos
los números primos del 1 al 12. Una manera de escribirlo
sería como sigue:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_ciaCwGgFZR" href="#c_ciaCwGgFZR"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">0</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">2</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">4</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">6</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">8</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">10</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">12</span>);</pre>
<p><a class=p_ident id="p_6phUto+FD7" href="#p_6phUto+FD7"></a>Eso funciona, pero la idea de escribir un programa es
trabajar <em>menos</em>, no más. Si necesitamos todos los números menores que
1,000, lo anterior sería imposible de trabajar. Lo que necesitamos es una
forma de repetir algo de código. Esta forma de control de flujo es llamada <em>bucle</em>:</p>
<div class="image">
  <img src="img/controlflow-loop.svg" alt="Loop control flow">
</div>
<p><a class=p_ident id="p_/afmCQgm3h" href="#p_/afmCQgm3h"></a>El control de flujo por bucles nos
permite regresar a cierto punto en el progrma en el que estuvimos antes
y repetirlo con nuestro estado actual. Si combinamos esto con una variable
que mantenga una cuenta, podemos hacer algo como lo siguiente:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_b7cC9EMYrX" href="#c_b7cC9EMYrX"></a><span class="cm-keyword">var</span> <span class="cm-variable">numero</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;
<span class="cm-keyword">while</span> (<span class="cm-variable">numero</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">numero</span>);
  <span class="cm-variable">numero</span> <span class="cm-operator">=</span> <span class="cm-variable">numero</span> <span class="cm-operator">+</span> <span class="cm-number">2</span>;
}
<span class="cm-comment">// → 0</span>
<span class="cm-comment">// → 2</span>
<span class="cm-comment">//   … etcetera</span></pre>
<p><a class=p_ident id="p_AutEV8PJur" href="#p_AutEV8PJur"></a>Una sentencia que comienza con la palabra
clave <code>while</code> crea un bucle. Después de <code>while</code> viene una expresión en
paréntesis y después una sentencia, muy parecido a el <code>if</code>. El bucle
ejecuta la sentencia mientras la expresión produzca un valor que sea
<code>true</code> cuando se convierta a un tipo Booleano.</p>
<p><a class=p_ident id="p_N9VXGY81eY" href="#p_N9VXGY81eY"></a>En este bucle, queremos
tanto imprimir el número como sumar dos a nuestra variable. Cuando necesitamos
ejecutar múltiples sentencias dentro de un bucle, lo encerramos
en llaves (<code>{</code> y <code>}</code>). Las llaves hacen por las sentencias lo que
los paréntesis hacen por las expresiones: las agrupan, haciéndolos
valer por una sola sentencia. Una secuencia de sentencias encerradas
en llaves es llamada un <em>bloque</em>.</p>
<p><a class=p_ident id="p_v0XEt5BRqc" href="#p_v0XEt5BRqc"></a>Muchos programadores de JavaScript encierran
cada cuerpo de un bucle o <code>if</code> en llaves. Lo hacen en nombre de la consistencia
y para evitar tener que añadir o quitar las llaves cuando el número de
sentencias en el cuerpo cambie. En este libro escribiré la mayoría de los
cuerpos de una sola sentencia sin bloques, porque valoro la brevedad.
Tú eres libre de usar el estilo que prefieras.</p>
<p><a class=p_ident id="p_rlQhxFeCG6" href="#p_rlQhxFeCG6"></a>La variable número demuestra la forma en que
una variable puede dar seguimiento al progreso de un programa.
Cada vez que el bucle se repite, <code>numero</code> se incrementa en <code>2</code>. Entonces,
al principio de cada repetición. es comparada con el número <code>12</code> para decidir
si el programa ha hecho todo el trabajo que tenía que hacer.</p>
<p><a class=p_ident id="p_mG94sKr6pK" href="#p_mG94sKr6pK"></a>Como un ejemplo que hace realmente algo útil,
podemos escribir un programa que calcula y mustra el valor de 2^10
(dos a la décima potencia). Usamos dos varianles: una para mantener el
resultado y una para contar cuantas veces hemos multiplicado este
resultado por dos. El bucle verifica si la segunda variable ha llegado
a 10 y entonces actualiza las dos variables.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_u8v3ZDgEql" href="#c_u8v3ZDgEql"></a><span class="cm-keyword">var</span> <span class="cm-variable">resultado</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;
<span class="cm-keyword">var</span> <span class="cm-variable">contador</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;
<span class="cm-keyword">while</span> (<span class="cm-variable">contador</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>) {
  <span class="cm-variable">resultado</span> <span class="cm-operator">=</span> <span class="cm-variable">resultado</span> <span class="cm-operator">*</span> <span class="cm-number">2</span>;
  <span class="cm-variable">contador</span> <span class="cm-operator">=</span> <span class="cm-variable">contador</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;
}
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">resultado</span>);
<span class="cm-comment">// → 1024</span></pre>
<p><a class=p_ident id="p_UENdfVolSZ" href="#p_UENdfVolSZ"></a>El contador pudo también empezar en <code>1</code> y verificar que <code>&lt;=10</code>, pero,
por razones que se aclararán en el
<a href="04_data.html#array_indexing">Capítulo 4</a>, es una buena idea acostumbrarse
a contar desde 0.</p>
<p><a class=p_ident id="p_kbMZjYX10U" href="#p_kbMZjYX10U"></a>El bucle <code>do</code> es una
estructura de control similar al bucle <code>while</code>. Se diferencia en sólo
un punto: un bucle <code>do</code> siempre ejecuta su cuerpo por lo menos una vez y
empieza a verificar si debería para sólo después de la primera ejecución.
Para reflejar esto, la condición aprece después del cuerpo del bucle:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_Rm4dvapytR" href="#c_Rm4dvapytR"></a><span class="cm-keyword">do</span> {
  <span class="cm-keyword">var</span> <span class="cm-variable">tuNombre</span> <span class="cm-operator">=</span> <span class="cm-variable">prompt</span>(<span class="cm-string">"¿Quién eres?"</span>);
} <span class="cm-keyword">while</span> (<span class="cm-operator">!</span><span class="cm-variable">tuNombre</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">tuNombre</span>);</pre>
<p><a class=p_ident id="p_hS28pYJZoD" href="#p_hS28pYJZoD"></a>Este programa te obligará a
introducir un nombre. Preguntará una y otra vez hasta que obtenga algo que
no sea una cadena vacía. Aplicar el operador <code>!</code> convierte un valor a Booleano
negándolo y todas las cadenas excepto <code>""</code> se convierten a <code>true</code>. Esto significa
qie el bucle continúa corriendo hasta que des un nombre que no sea una cadena vacía.</p>
<h2><a class=h_ident id="h_BpgCRv2h0y" href="#h_BpgCRv2h0y"></a>Indentando código</h2>
<p><a class=p_ident id="p_+kVHUFpSWF" href="#p_+kVHUFpSWF"></a> Probablemente has notado los espacios que pongo en frente
de algunas sentencias. En JavaScript, no son requeridos, la computadora
aceptaré el programa bien sin ellos. De hecho, incluso los saltos de línea
en los programas son opcionales. Puedes escribir un programa en una sola línea
si así lo prefieres. El rol de la indentación dentro de los
bloques es hacer notar la estructura del código. En código complejo,
en dónde nuevos bloques son abiertos dentro de otros bloques, puede ser difícil
de ver en dónde termina uno y empieza otro. Con la indentación correcta,
la forma visual del programa se corresponde con la forma de los bloques dentro
de él. A mí me gusta usar dos espacios por cada bloque abierto, pero los gustos
varían; algunas personas usan cuatro espacios, y algunas
otras usan el carácter tab.</p>
<h2><a class=h_ident id="h_mgPDSpUcUD" href="#h_mgPDSpUcUD"></a>Bucles for</h2>
<p><a class=p_ident id="p_l2QOPNi4iO" href="#p_l2QOPNi4iO"></a>Muchos bucles siguen el
patrón de los ejemplos previos del <code>while</code>. Primero, una variable “contador”
es creada para dar seguimiento al progreso del bucle. Entonces viene el
bucle <code>while</code>, cuya expresión condicional normamelte verifica si el
contador ha alcanzafo cierto límite. El final del cuerpo del bucle, el
contador es actualizado para dar seguimiento al progreso.</p>
<p><a class=p_ident id="p_9CtpqXPEzt" href="#p_9CtpqXPEzt"></a>Debido a que este patrón es tan común, JavaScript
y otros lenguajes similares proveen una versión un poco más corta y más
completa, el bucle <code>for</code>.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_APCm1aSq0j" href="#c_APCm1aSq0j"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-variable">numero</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">numero</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>; <span class="cm-variable">numero</span> <span class="cm-operator">=</span> <span class="cm-variable">numero</span> <span class="cm-operator">+</span> <span class="cm-number">2</span>)
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">numero</span>);
<span class="cm-comment">// → 0</span>
<span class="cm-comment">// → 2</span>
<span class="cm-comment">//   … etc.</span></pre>
<p><a class=p_ident id="p_IcNjG764ac" href="#p_IcNjG764ac"></a>Este programa es exactamente equivalente
a el <a href="02_program_structure.html#loops">ejemplo previo</a> de impresión
de números pares. El único cambio es que todas las sentencias que están
relacionadas con el "estado" del bucle están agrupadas.</p>
<p><a class=p_ident id="p_F+7EDfyjQ2" href="#p_F+7EDfyjQ2"></a>Los paréntesis después de una palabra clave <code>for</code> tienen que contener
dos punto y coma. La parte que está antes del primer punto y coma
<em>inicializa</em> el bucle, normalmente al definir una variable. La segunda parte es la expresión que verifica si el bucle tiene que continuar.
La parte final <em>actualiza</em> el estado del bucle antes de cada iteración. En
la mayoría de los casos, esto es más corto y claro que una construcción con
<code>while</code>.</p>
<p><a class=p_ident id="p_/alwhUmc1m" href="#p_/alwhUmc1m"></a>Aquí está un código que calcula 2<sup>10</sup>, usando el <code>for</code>
en vez del <code>while</code>.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_4wRTWKy9cR" href="#c_4wRTWKy9cR"></a><span class="cm-keyword">var</span> <span class="cm-variable">resultado</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;
<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-variable">contador</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">contador</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>; <span class="cm-variable">contador</span> <span class="cm-operator">=</span> <span class="cm-variable">contador</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>)
  <span class="cm-variable">resultado</span> <span class="cm-operator">=</span> <span class="cm-variable">resultado</span> <span class="cm-operator">*</span> <span class="cm-number">2</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">resultado</span>);
<span class="cm-comment">// → 1024</span></pre>
<p><a class=p_ident id="p_Y/mOT1cdLP" href="#p_Y/mOT1cdLP"></a>Nota que incluso aunque no se
abrió ningún bloque con un <code>{</code>, la sentencia del bucle está indentada dos
espacios para dejar claro que "pertenece" al la línea que está antes de
ella.</p>
<h2><a class=h_ident id="h_4zu2B28Y8I" href="#h_4zu2B28Y8I"></a>Forzando la salida de un bucle</h2>
<p><a class=p_ident id="p_Nm6+cAMfsQ" href="#p_Nm6+cAMfsQ"></a>Hacer que la condición del bucle produzca <code>false</code> no es la única forma de que un bucle termine.
Existe una una sentencia especial llamada <code>break</code> que tiene el
efecto de salir inmediatamente del bucle que la esté encerrando.</p>
<p><a class=p_ident id="p_eTVybviQVG" href="#p_eTVybviQVG"></a>El siguiente programa ilustra la sentencia <code>break</code>. Encuentra el primer
número que es más grande o igual que 20 y divisible por 7.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_w6l+yTnXNs" href="#c_w6l+yTnXNs"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-variable">actual</span> <span class="cm-operator">=</span> <span class="cm-number">20</span>; ; <span class="cm-variable">actual</span><span class="cm-operator">++</span>) {
  <span class="cm-keyword">if</span> (<span class="cm-variable">actual</span> <span class="cm-operator">%</span> <span class="cm-number">7</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>)
    <span class="cm-keyword">break</span>;
}
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">actual</span>);
<span class="cm-comment">// → 21</span></pre>
<p><a class=p_ident id="p_SatU3DM22D" href="#p_SatU3DM22D"></a>Usar el operador de sobrante o
módulo (<code>%</code>) es una forma fácil de probar si un número es divisible por
otro. Si lo es, el sobrante de la división es cero.</p>
<p><a class=p_ident id="p_JKQTzethVy" href="#p_JKQTzethVy"></a>La construcción <code>for</code> en este ejemplo no tiene la parte
que verifica si el bucle debe terminar. Esto significa que el loop nunca
terminará hasta que la sentencia <code>break</code> que está adentro sea ejecutada.</p>
<p><a class=p_ident id="p_U1G3bRQePq" href="#p_U1G3bRQePq"></a>Si dejaras afuera esa sentencia <code>break</code> o accidentalmente escribieras una
condición que siempre produzca <code>true</code>, tu programa se quedaría atorado en
un <em>bucle infinito</em>. Un programa que se queda en un bucle infinito
nunca terminará de correr, y eso usualmente es malo.</p>
<p><a class=p_ident id="p_Kyj2y1LLx4" href="#p_Kyj2y1LLx4"></a>Si creas un bucle infinito en uno de los ejemplos de estas páginas,
usualmente se te preguntará si quieres detener el script después de unos
cuantos segundos. Si eso falla, tendrás que cerrar la pestaña en la que
estás trabajando, o, en otros nevagadores, cerrar el navegador entero para
recuperarte.</p>
<p><a class=p_ident id="p_SpplRbvKVL" href="#p_SpplRbvKVL"></a>La palabra clave <code>continue</code> es similar a
<code>break</code> en que influencia el progreso del bucle. Cuando se encuentra
<code>continue</code> en el cuerpo de un bucle, el control sale del curpo del
bucle inmediatamente y continúa en la próxima iteración del bucle.</p>
<h2><a class=h_ident id="h_Qf5trXITDO" href="#h_Qf5trXITDO"></a>Actualizando variables sucintamente</h2>
<p><a class=p_ident id="p_bvZ6AR5nyh" href="#p_bvZ6AR5nyh"></a>Especialmente
cuando estamos en un bucle, un programa necesita "actualizar" una variable
para mantener un valor basado en el valor previo de esa variable.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_L3jfINNNXj" href="#c_L3jfINNNXj"></a><span class="cm-variable">contador</span> <span class="cm-operator">=</span> <span class="cm-variable">contador</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;</pre>
<p><a class=p_ident id="p_QdKROc9QOW" href="#p_QdKROc9QOW"></a>JavaScript nos da un atajo para esto:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_PvmuhPrwkH" href="#c_PvmuhPrwkH"></a><span class="cm-variable">contador</span> <span class="cm-operator">+=</span> <span class="cm-number">1</span>;</pre>
<p><a class=p_ident id="p_TFQcIiAxmj" href="#p_TFQcIiAxmj"></a>Atajos similares funcionan igual para muchos otros operadores, como
<code>resultado *= 2</code> para duplicar <code>resultado</code> o <code>counter -= 1</code> para restar uno.</p>
<p><a class=p_ident id="p_yr11NivZCB" href="#p_yr11NivZCB"></a>Esto nos permite acortar nuestro ejemplo de la cuenta un poco más.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_BPEzrGjPrp" href="#c_BPEzrGjPrp"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-variable">numero</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">numero</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>; <span class="cm-variable">numero</span> <span class="cm-operator">+=</span> <span class="cm-number">2</span>)
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">numero</span>);</pre>
<p><a class=p_ident id="p_FfbvtxPJa+" href="#p_FfbvtxPJa+"></a>Para <code>contador += 1</code> y <code>contador -= 1</code>,
hay incluso equivalentes más cortos: <code>contador+=</code> y <code>contador--</code>.</p>
<h2><a class=h_ident id="h_2v63hgIJH5" href="#h_2v63hgIJH5"></a>Despachando sobre un valor con switch</h2>
<p><a class=p_ident id="p_1G2+Dy9ICT" href="#p_1G2+Dy9ICT"></a>Es común ver código así:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_4d6YAKhtWr" href="#c_4d6YAKhtWr"></a><span class="cm-keyword">if</span> (<span class="cm-variable">variable</span> <span class="cm-operator">==</span> <span class="cm-string">"valor1"</span>) <span class="cm-variable">accion1</span>();
<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">variable</span> <span class="cm-operator">==</span> <span class="cm-string">"valor2"</span>) <span class="cm-variable">accion2</span>();
<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">variable</span> <span class="cm-operator">==</span> <span class="cm-string">"valor3"</span>) <span class="cm-variable">accion3</span>();
<span class="cm-keyword">else</span> <span class="cm-variable">accionDefault</span>();</pre>
<p><a class=p_ident id="p_qNAJbLWklB" href="#p_qNAJbLWklB"></a>Existe una estructura
llamada <code>switch</code> que está hecha para resolver este "despachado" de un modo
más directo. Desafortunadamente, la sintaxis que JavaScript usa para
esto (que es heredada de la línea de lenguajes de programación de C o Java)
es un poco incómoda; una cadena de sentencias <code>if</code> a menudo luce mejor.
Aquí hay un ejemplo:</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_1YC8v6H9SA" href="#c_1YC8v6H9SA"></a><span class="cm-keyword">switch</span> (<span class="cm-variable">prompt</span>(<span class="cm-string">"¿Cómo está el clima?"</span>)) {
  <span class="cm-keyword">case</span> <span class="cm-string">"lluvioso"</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"Recuerda llevar un paraguas."</span>);
    <span class="cm-keyword">break</span>;
  <span class="cm-keyword">case</span> <span class="cm-string">"soleado"</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"Viste ligero."</span>);
  <span class="cm-keyword">case</span> <span class="cm-string">"nublado"</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"Sal a la calle."</span>);
    <span class="cm-keyword">break</span>;
  <span class="cm-keyword">default</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">"Tipo de Clima desconocido."</span>);
    <span class="cm-keyword">break</span>;
}</pre>
<p><a class=p_ident id="p_hDvjFkun6u" href="#p_hDvjFkun6u"></a> Puedes poner cualquier cantidad
de etiquetas <code>case</code> dentro del bloque <code>switch</code> abierto. El programa
saltará a la etiqueta que corresponda al valor que se le dio al
<code>switch</code> o a <code>default</code> si no se encuentra valor que corresponda.
Se empiezan a ejecutar las sentencias desde ahí, incluso si están
bajo otra etiqueta, hasta que se llegue a una sentencia <code>breal</code>.
En algunos casos, como en el caso de <code>"soleado"</code> en el ejemplo, esto
puede ser usado para compartir código entre casos (recomienda
salir a la calle tanto para clima soleado como para nublado). Pero
cuidado: es fácil olvidar el <code>break</code>, lo cuál causará que el programa
ejecute código que no quieres que se ejecute.</p>
<h2><a class=h_ident id="h_AIetW23qbx" href="#h_AIetW23qbx"></a>Capitalización</h2>
<p><a class=p_ident id="p_LPEByvMVpz" href="#p_LPEByvMVpz"></a>Los
nombres de variable no pueden contener espacios, pero aún así es útil
ocupar varias palabras para describir claramente lo que esa variable
representa. Estas son tus elecciones para escribir un nombre
de variable con varias palabras:</p>
<pre>toortuguitadifusa
tortuguita_difusa
TortuguitaDifusa
tortuguitaDifusa</pre>
<p><a class=p_ident id="p_p1W8F/2VE7" href="#p_p1W8F/2VE7"></a>El
primer estilo puede ser difícil de leer. Personalmente, me gusta como
luce con los guiones bajos, aunque es un poco difícil de escribir. Las
funciones estándar de JavaScript, y la mayoría de los programadores
de JavaScript, siguen el último estilo; capitalizan cada palabra excepto la
primera. No es difícil acostumbrarse a pequeñas cosas como esas y código
con estilos de nombrado mezclados puede ser desagradable de leer,
así que simplemente seguiremos esta convención.</p>
<p><a class=p_ident id="p_jCGMhIRLKD" href="#p_jCGMhIRLKD"></a>En algunos casos, como en el
de la función <code>Number</code>, la primera letra de una variable también es
mayúscula. Esto fue hecho para marcar la función como un constructor.
Lo que es un constructor, quedará claro en el
<a href="06_object.html#constructors">Capítulo 6</a>. Por ahora, lo importante
es no preocuparse por esta aparente falta de consistencia.</p>
<h2><a class=h_ident id="h_BU3lBD6Cl5" href="#h_BU3lBD6Cl5"></a>Comentarios</h2>
<p><a class=p_ident id="p_bKFjZoAEzX" href="#p_bKFjZoAEzX"></a>A menudo, el código por sí mismo no transmite toda la
información que quieres que un programa transmita para los lectores
humanos, o la transmite de un modo tan críptico que las personas
podrían no entenderlo. En otras ocasiones, simplemente puedieras
sentirte poético o quisieras incluir algunos pensamientos como parte
del programa. Para eso son los <em>comentarios</em>.</p>
<p><a class=p_ident id="p_TXIjVoCAXB" href="#p_TXIjVoCAXB"></a>Un comentario es una
pieza de texto que es parte del programa pero es completamente ignorado
por la computadora. JavaScript tiene dos formas para escribir comentarios.
Para escribir un comentario de una línea, puedes usar dos diagonales (<em>//</em>)
con el texto después.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_pwquArLmdq" href="#c_pwquArLmdq"></a><span class="cm-keyword">var</span> <span class="cm-variable">balandeDeCuenta</span> <span class="cm-operator">=</span> <span class="cm-variable">calcularBalance</span>(<span class="cm-variable">cuenta</span>);
<span class="cm-comment">// Es en un claro de bosque donde canta un río.</span>
<span class="cm-variable">balandeDeCuenta</span>.<span class="cm-property">ajustar</span>();
<span class="cm-comment">// Cuelgan enloquecidamente de la hierbas harapos</span>
<span class="cm-keyword">var</span> <span class="cm-variable">reporte</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Reporte</span>();
<span class="cm-comment">// De plata; donde el sol de la orgullosa montaña</span>
<span class="cm-variable">agregaAReporte</span>(<span class="cm-variable">balandeDeCuenta</span>, <span class="cm-variable">reporte</span>);
<span class="cm-comment">// Luce: Es un pequeño valle espumoso de luz.</span></pre>
<p><a class=p_ident id="p_Him9XjjKCP" href="#p_Him9XjjKCP"></a>Un <code>//</code> sólo es válido hasta el fin de la línea.
Una sección de texto entre <code>/*</code> y <em>*/</em> será ignorada, sin importar si
contiene saltos de línea. Esto es útil a menudo para añadir bloques de
información acerca de un archivo o un pedazo de un programa.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_lh3e/twRvO" href="#c_lh3e/twRvO"></a><span class="cm-comment">/*</span>
<span class="cm-comment"> Primero, encontré este número garabateado en la parte trasera de</span>
<span class="cm-comment"> una de mis libretas hace unos cuantos años. Desde entonces,</span>
<span class="cm-comment"> a menudo ha aparecido de la nada, apareciendo en números de</span>
<span class="cm-comment"> teléfono y números de serie de productos que he comprado.</span>
<span class="cm-comment"> Obviamente le gusto, así que decidí conservarlo.</span>
<span class="cm-comment">*/</span>
<span class="cm-keyword">var</span> <span class="cm-variable">miNumero</span> <span class="cm-operator">=</span> <span class="cm-number">11213</span>;</pre>
<h2><a class=h_ident id="h_xJkC9vIR8T" href="#h_xJkC9vIR8T"></a>Sumario</h2>
<p><a class=p_ident id="p_Gq935fzMWa" href="#p_Gq935fzMWa"></a>Ya sabes que un programa está construido de sentencias, que
a su vez pueden contener más sentencias algunas veces. Las
sentencias normalmente contienen expresiones, que a su vez pueden
contener expresiones más pequeñas.</p>
<p><a class=p_ident id="p_fiBgEiIut1" href="#p_fiBgEiIut1"></a>Colocar una sentencia tras otras te da un programa que es ejecutado
de arriba hacia abajo. Puedes introducir disturbios en el flujo de
control usando sentencias condicionales (<code>if</code>, <code>else</code>, and <code>switch</code>) y
de bucle (<code>while</code>, <code>do</code>, and <code>for</code>).</p>
<p><a class=p_ident id="p_9xVrkD8uVj" href="#p_9xVrkD8uVj"></a>Las variables pueden ser usadas para guardar piezas de información bajo un
nombre, y son útiles para llevar registro del estado del programa.
El entorno es el conjunto de variables que están definidas. Los sistemas
de JavaScript siempre colocan varias variables estándar útiles en
tu entorno.</p>
<p><a class=p_ident id="p_lh+UoMXkIt" href="#p_lh+UoMXkIt"></a>Las funciones son valores especiales que encapsulan un pedazo del programa.
Puedes invocar una escribiendo <code>nombreDeLaFuncion(argumento1, argumento2)</code>.
Esta llamada a la función es una expresión, y podría producir un valor.</p>
<h2><a class=h_ident id="h_tkm7ntLto1" href="#h_tkm7ntLto1"></a>Ejercicios</h2>
<p><a class=p_ident id="p_iRy9gTauVC" href="#p_iRy9gTauVC"></a>Si no estás seguro de cómo probar tus soluciones a los
ejercicios, visita la <a href="00_intro.html#intro">introducción</a></p>
<p><a class=p_ident id="p_8wCIDrekLC" href="#p_8wCIDrekLC"></a>Cada ejercicio empieza con una descripción del problema. Léela e intenta
resolver el ejercicio. Si tienes problemas, considera leer las pistas
después del ejercicio.
Las soluciones completas a los ejercicios no están incluidas en este
libro, pero puedes encontrarlas en línea en
<a href="http://eloquentjavascript.net/code"><em>eloquentjavascript.net/code</em></a>.
Si quieres aprender a partir de los ejercicios, recomiendo mirar las soluciones
sólo después de que hayas resuelto el ejercicio, o al menos lo hayas
atacado con el tiempo y esfuerzo suficientes para tener un pequeño dolor
de cabeza.</p>
<h3><a class=h_ident id="h_BdSyBpCi3G" href="#h_BdSyBpCi3G"></a>Iterando un triángulo</h3>
<p><a class=p_ident id="p_nyPSDpu43Y" href="#p_nyPSDpu43Y"></a>Escribe un bucle que haga siete
llamadas a <code>console.log</code> para producir el siguiente triángulo:</p>
<pre>#
##
###
####
#####
######
#######</pre>
<p><a class=p_ident id="p_HnTbcF9d+w" href="#p_HnTbcF9d+w"></a>Puede ser útil saber que puedes encontrar la longitud de una cadena
de texto escribiendo <code>.length</code> después de ella.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_RYNf/jmEP5" href="#c_RYNf/jmEP5"></a><span class="cm-keyword">var</span> <span class="cm-variable">abc</span> <span class="cm-operator">=</span> <span class="cm-string">"abc"</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">abc</span>.<span class="cm-property">length</span>);
<span class="cm-comment">// → 3</span></pre>
<p><a class=p_ident id="p_ssg9S6jLc4" href="#p_ssg9S6jLc4"></a>La mayoría de los ejercicios contienen una porción de código
que puedes modificar para resolver el ejercicio. Recuerda que puedes hacer
click en los bloques de código para editarlos.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_lr7gYy4q2r" href="#c_lr7gYy4q2r"></a><span class="cm-comment">// Tu código aquí:</span></pre>
<div class=solution><div class=solution-text>
<p><a class=p_ident id="p_Skh3ilt74h" href="#p_Skh3ilt74h"></a>Puedes empezar con un programa que
simplemente imprima los números 1 a 7, el cuál puede derivarse
de hacer unas cuantas modificaciones al
<a href="02_program_structure.html#loops">ejemplo de impresión de
los números pares</a> dado antes en este capítulo,
en dónde se introdujo el bucle <code>for</code>.</p>
<p><a class=p_ident id="p_iFIl1kilIr" href="#p_iFIl1kilIr"></a>Ahora considera la equivalencia entre números y cadenas de símbolos
de numeral. Puedes ir de uno a dos añadiendo uno (<code>+=1</code>). Puedes
ir de <code>"#"</code> a <code>"##"</code> añadiendo un carácter (<code>+= "#"</code>). Así, tu solución
puede seguir de cerca el programa de impresión de números.</p>
</div></div>
<h3><a class=h_ident id="h_rebKE3gdjV" href="#h_rebKE3gdjV"></a>FizzBuzz</h3>
<p><a class=p_ident id="p_pkyOn3EItT" href="#p_pkyOn3EItT"></a>Escribe
un programa que use <code>console.log</code> para imprimir todos los números
del 1 al 100, con dos excepciones. Para números divisibles por 3,
imprime <code>"Fizz"</code> en vez del número y para números divisibles por 5
(pero no por 3), imprime <code>"Buzz"</code>.</p>
<p><a class=p_ident id="p_jr6Z4Y+Ct5" href="#p_jr6Z4Y+Ct5"></a>Cuando tengas eso funcionando, modifica tu programa para imprimir
<code>"FizzBuzz"</code>, para números que sean divisibles tanto por 3 como por 5
(y que siga imprimiendo <code>"Fizz"</code> o <code>"Buzz"</code> para números divisibles por
sólo uno de ellos).</p>
<p><a class=p_ident id="p_TMqQadg6Yc" href="#p_TMqQadg6Yc"></a>(Esta es en realidad una pregunta de entrevista de la que se dice
que elimina a un porcentaje significativo de programadores candidatos.
Así que si lo resolviste, puedes sentirte bien contigo mismo.)</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_lr7gYy4q2r" href="#c_lr7gYy4q2r"></a><span class="cm-comment">// Tu código aquí:</span></pre>
<div class=solution><div class=solution-text>
<p><a class=p_ident id="p_wvcKnGD9iX" href="#p_wvcKnGD9iX"></a>Recorrer
los números es claramente un trabajo para un bucle y seleccionar
qué imprimir es asunto de ejecución condicional. Recuerda el truco
de usar el operador sobrante (<code>%</code>) para verificar si un número es divisible
por otro (tiene un sobrante de cero).</p>
<p><a class=p_ident id="p_IyWMdZZFqJ" href="#p_IyWMdZZFqJ"></a>En la primera versión, hay tres posibles salidas para cada número,
así que tendrás que crear una cadena de <code>if</code>/<code>else if</code>/<code>else</code>.</p>
<p><a class=p_ident id="p_mhR26Uo8pR" href="#p_mhR26Uo8pR"></a>La segunda versión
del programa tiene una solución obvia y una inteligente. El camino simple
es añadir otra "rama" para probar la condición dada. Para el método
inteligente, construye una cadena que contenga la palabra o las palabras
que se van a devolver, e imprime esta palabra o el número si no hay palabra,
probablemente haciendo un uso elegante del operador <code>||</code>.</p>
</div></div>
<h3><a class=h_ident id="h_LfUshX1nGC" href="#h_LfUshX1nGC"></a>Tablero de Ajedrez</h3>
<p><a class=p_ident id="p_eZy03w3wJ3" href="#p_eZy03w3wJ3"></a>Escribe un programa que cree un cadena de texto que
represente una cuadrícula de 8x8, usando el salto de línea como separador.
En cada posición de la cuadrícula está o un espacio o un carácter "#".
Los caracteres deberían formar un tablero de ajedrez.</p>
<p><a class=p_ident id="p_fdchjaILuu" href="#p_fdchjaILuu"></a>Pasar esta cadena a <code>console.log</code> debería mostrar algo como esto:</p>
<pre> # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #</pre>
<p><a class=p_ident id="p_OOwY/sd0x5" href="#p_OOwY/sd0x5"></a>Cuando tengas un programa que genere este patrón, defina
una variable <code>tamano = 8</code> y cambia el programa de tal manera
que trabaje para cualquier <code>tamano</code>, produciendo una cuadrícula
del ancho y alto dado.</p>
<pre data-language="javascript" class="snippet cm-s-default"><a class=c_ident id="c_lr7gYy4q2r" href="#c_lr7gYy4q2r"></a><span class="cm-comment">// Tu código aquí:</span></pre>
<div class=solution><div class=solution-text>
<p><a class=p_ident id="p_wONAnKn4aE" href="#p_wONAnKn4aE"></a>La cadena puede ser construida
empezando con una vacía (<code>""</code>) y agregando caracteres repetidamente.
Un carácter de nueva línea se escribe <code>"\n"</code>.</p>
<p><a class=p_ident id="p_qCQPxnxrDM" href="#p_qCQPxnxrDM"></a>Usa <code>console.log</code> para inspeccionar la salida de tu programa.</p>
<p><a class=p_ident id="p_Gr7cParUG1" href="#p_Gr7cParUG1"></a>Para trabajar con dos dimensiones, necesitarás
un bucle adentro de un bucle. Coloca llaves alrededor de los
cuerpos de los dos bucles para hacer fácil ver dónde empiezan y dónde
terminan. Intenta indentar propieamente los cuerpos. El orden de los
bucles debe seguir el orden en el que construimos la cadena (línea por
línea, de izquierda a derecha, de arriba hacia abajo). Así que el bucle
de afuera maneja la línea y el bucle interno maneja los caracteres en
una línea.</p>
<p><a class=p_ident id="p_lwm0TBFbwC" href="#p_lwm0TBFbwC"></a>Necesitarás
dos variables para dar seguimiento al progreso. Para saber si debes poner
un espacio o un símbolo de número en una posición dada, puedes probar si
la suma de los contadores es par (<code>%2</code>)</p>
<p><a class=p_ident id="p_YhRlDyis8S" href="#p_YhRlDyis8S"></a>Terminar una línea al añadir un carácter de nueva línea sucede después de
que la línea ha sido construida, así que haz esto después del bucle interno
pero dentro del bucle externo.</p>
</div></div>
<nav>
  <a href="01_values.html" title="capítulo previo">◀</a>
  <a href="index.html" title="cover">◆</a>
  <a href="03_functions.html" title="capítulo siguiente">▶</a>
</nav>
</article>
